name: CI

on: [push]

jobs:
  build:

    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v1
    - name: build website
      run: |
        npm install -g
        sudo npm install -g typedoc
        sudo npm install verdaccio
        cd generator
        mvn -Pcodegen,io.vertx,io.reactiverse clean install generate-sources exec:exec@typedoc
        cd ..
        npm install
        npm run docs:build
        npm run docs:publish
        
