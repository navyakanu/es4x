name: CI

on: [push]

jobs:
  build:

    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v1
    - name: Run a multi-line script
      run: |
        mvn -Pcodegen install
        sudo npm install -g typedoc
        sudo npm install verdaccio
        cd generator
        mvn -Pio.vertx,io.reactiverse clean generate-sources exec:exec@typedoc
        cd ..
        npm install
        npm run docs:build
        npm run docs:publish
        
